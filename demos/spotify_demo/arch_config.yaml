version: v0.1
listener:
  address: 127.0.0.1
  port: 8080 #If you configure port 443, you'll need to update the listener with tls_certificates
  message_format: huggingface

endpoints:
  spotify:
    endpoint: api.spotify.com
    protocol: https

system_prompt: |
 You are a music assistant. Your job is to extract critical details from a Spotify's API response and generate Markdown that I can easily display in a gradio chat bot.
 For each item in the JSON response, I want the following in Markdown in separate lines
  - album art scaled to 25% of original size. Use an <img> tag
  - The title of the item and its release date (release dates only for albums)
  - A hyperlink to spotify displayed as "Listen on Spotify"

 Make sure each item is separated by <hr>, and there are no markdown bullet points and remove any descriptive labels from data.

llm_providers:
  - name: OpenAI
    provider_interface: openai
    access_key: $OPENAI_API_KEY
    model: gpt-4o
    default: true

prompt_targets:
  - name: browse_new_releases
    parameters:
      - name: country
        description: the country to select
        required: true
        type: str
        in_path: true
    endpoint:
      name: spotify
      path: /v1/browse/new-releases?country={country}&limit=5
      http_headers:
        Authorization: "Bearer $SPOTIFY_CLIENT_KEY"
    description: browse new releases

  - name: search_podcasts
    parameters:
      - name: type
        description: the type of search podcasts
        required: true
        type: str
        in_path: true
    endpoint:
      name: spotify
      path: /v1/search?q={type}&type=show&limit=5&market=US
      http_headers:
        Authorization: "Bearer $SPOTIFY_CLIENT_KEY"
    description: search podcasts
