version: v0.1


listeners:
  ingress_traffic:
    address: 0.0.0.0
    port: 10000
    message_format: openai
    timeout: 30s

llm_providers:
  - name: gpt-4o
    access_key: $OPENAI_API_KEY
    provider_interface: openai
    model: gpt-4o

endpoints:
  frankfurther_api:
    endpoint: api.frankfurter.dev
    protocol: https

tools:
  - name: get_exchange_rate
    endpoint: 
      name: frankfurther_api
      path: /v1/latest?base={currency_from}&symbols={currency_to}
    params:
      - name: currency_from
        description: currency symbol to convert from
        type: str
        default: USD
      - name: currency_to
        description: currency symbol to convert to
        type: str
        default: EUR

prompt_guards:
  input_guards:
    jailbreak:
      on_exception:
        message: Looks like you're curious about my abilities, but I can only provide assistance for currency exchange.

agents:
  - name: Currency Exchange Agent
    description: Helps with exchange rates for currencies
    default_input_modes:
      - text
      - text/plain
    default_output_modes:
      - text
      - text/plain
    skills:
      - id: convert_currency
        name: Currency Exchange Rates Tool
        description: Helps with exchange values between various currencies
        examples:
          - What is exchange rate between USD and GBP?
    capabilities:
        streaming: true
        push_notifications: true
    model: gpt-4o
    system_prompt: |
        You are a specialized assistant for currency conversions.
        Your sole purpose is to use the 'get_exchange_rate' tool to answer questions about currency exchange rates.
        If the user asks about anything other than currency conversion or exchange rates,
        politely state that you cannot help with that topic and can only assist with currency-related queries.
        Do not attempt to answer unrelated questions or use tools for other purposes.
        Set response status to input_required if the user needs to provide more information.
        Set response status to error if there is an error while processing the request.
        Set response status to completed if the request is complete.
    tools:
      - get_exchange_rate

tracing:
  random_sampling: 100
  trace_arch_internal: true
